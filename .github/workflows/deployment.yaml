name: CICD for React app

on:
 push:
  branches: [main]
 workflow_dispatch:

permissions:
 contents: write
jobs:
  build-and-deploy:
   runs-on: ubuntu-latest
   steps:
   - name: Checkout code
     uses: actions/checkout@v2
   - name: Set up NodeJs
     uses: actions/setup-node@v2
     with:
      node-version: 18
   - name: Install dependencies
     run: npm install

   - name: Build Application
     run: npm run build

   - name: Deploy to GitHub Pages
     uses: peaceiris/actions-gh-pages@v3
     with:
       branch: gh-pages
       folder: build
